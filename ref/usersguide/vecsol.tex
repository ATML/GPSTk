%\documentclass{article}
%\usepackage{fancyvrb}
%\usepackage{perltex}
%\usepackage{xcolor}
%\usepackage{listings}
%\usepackage{longtable}
%\usepackage{multirow}
%\input{src/cmd}
%\begin{document}

\index{vecsol!application writeup}

\section{\emph{vecsol}}
\subsection{Overview}
The application computes a 3D vector solution using dual-frequency carrier phases. A double difference
algorithm is applied with properly computed weights (elevation sine weighting) and correlations. The program
iterates to convergence and attempts to resolve ambiguities to integer values if close enough. Crude outlier rejection
is provided based on a triple-difference test. Ephemerides used are either broadcast or precise (SP3). 

Alternatively, P code processing is additionally provided.
The solution is computed using either the ionosphere-free linear
combination, or the average of L1 and L2. The ionospheric model included
in broadcast ephemeris may be used. A standard tropospheric correction
is applied, or tropospheric parameters (zenith delays) may be estimated
for the first station (vector mode) or both.

\subsection{Usage}
\begin{\outputsize}
vecsol usage: vecsol $<$RINEX Obs file 1$>$ $<$RINEX Obs file 2$>$
\end{\outputsize}

\subsubsection{RINEX Observation Files}
The two arguments are names of RINEX observation files. They contain the observations collected at the two end points 1 and 2 of the baseline.
They must contain a sufficient set of simultaneous observations to the same satellites.

If no separate station coordinate files are provided, the initial
station coordinates are taken from the RINEX headers. Upon finishing,
vecsol creates or updates the coordinate file of the first station
(vector mode) or both.

\subsubsection{Configuration File vecsol.conf}
The file vecsol.conf contains the input options for the program, one per line.

\begin{\outputsize}

\begin{longtable}{lll}
\entry{Options}{Value}{Meaning}{1}
\entry{obsMode}{3/2/1/0}{If 1 or 3, process carrier phase data (instead of P
code data). If 0 or 1, iterate on ionosphere-free vector (not L1 + L2).}{3}
\entry{truecov}{1/0}{If 1, use true double difference covariances. If 0, ignore any possible correlations.}{2}
\entry{precise}{1/0}{If 1, use precise ephemeris, if 0, use broadcast ephemeris.}{2}
\entry{iono}{1/0}{If 1, use the 8-parameter ionospheric model that comes with the broadcast ephemeris (.nav) files.}{2}
\entry{tropo}{1/0}{If 1, estimate troposphere parameters (zenith delays relative to the standard value, which is always applied).}{3}
\entry{vecmode}{1/0}{If 1, solve the vector, i.e. the three coordinate differences between the  baseline end points. If 0, solve for the absolute co-ordinates of both end points.}{4}
\entry{debug}{1/0}{If 1, produce lots of gory debugging output. See the source for what it all means.}{2}
\entry{refsat elev}{number}{Minimum elevation (degs) of the reference satellite used for computing inter-satellite differences.  Good initial choice: 30.0.}{3}
\entry{cutoff elev}{number}{Cut-off elevation (degs). Good initial choice: 10.0 - 20.0.}{2}
\entry{rej TP, rej TC}{two numbers}{Phase, code triple differences rejection limit (m).}{1}
\entry{reduce}{1/0}{Apply post-reduction to combine dependent unknowns.}{2}

\end{longtable}
\end{\outputsize}

\subsubsection{Ephemeris File Lists}
The file vecsol.nav contains the names of the navigation RINEX files ("nav files", extension). Good navigation RINEX files that are globally valid can be found  from  the  CORS  website  at http://www.ngs.noaa.gov/CORS/.

The file vecsol.eph contains  the  names  of  the  precise ephemeris SP3 files (extension .sp3) to be used. These should cover the time span of the observations, with time to spare on both  ends. Note  that the date in the filenames of the SP3 files is given as GPS week + weekday, not year + day of year, as in the observation and nav files.

In the .nav and .eph files, comment lines have \# in the first position.

\subsection{Notes}
Currently, vecsol does not recover from cycle slips, so the RINEX observation files used have to be fairly clean.

%\end{document}
